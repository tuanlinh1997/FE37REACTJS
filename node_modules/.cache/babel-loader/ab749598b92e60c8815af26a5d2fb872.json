{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Desktop\\\\New folder (3)\\\\src\\\\shopping-cart\\\\index.js\";\nimport React, { Component } from \"react\";\nimport DanhSachSanPham from \"./danh-sach-san-pham\";\nimport Modal from \"./modal\";\nexport default class ShoppingCart extends Component {\n  constructor(props) {\n    super(props);\n    this.mangSanPham = [{\n      maSP: 1,\n      tenSP: \"VinSmart Live\",\n      manHinh: 'AMOLED, 6.2\", Full HD+',\n      heDieuHanh: \"Android 9.0 (Pie)\",\n      cameraTruoc: \"20 MP\",\n      cameraSau: \"Chính 48 MP & Phụ 8 MP, 5 MP\",\n      ram: \"4 GB\",\n      rom: \"64 GB\",\n      giaBan: 5700000,\n      hinhAnh: \"./img/vsphone.jpg\"\n    }, {\n      maSP: 2,\n      tenSP: \"Meizu 16Xs\",\n      manHinh: \"AMOLED, FHD+ 2232 x 1080 pixels\",\n      heDieuHanh: \"Android 9.0 (Pie); Flyme\",\n      cameraTruoc: \"20 MP\",\n      cameraSau: \"Chính 48 MP & Phụ 8 MP, 5 MP\",\n      ram: \"4 GB\",\n      rom: \"64 GB\",\n      giaBan: 7600000,\n      hinhAnh: \"./img/meizuphone.jpg\"\n    }, {\n      maSP: 3,\n      tenSP: \"Iphone XS Max\",\n      manHinh: 'OLED, 6.5\", 1242 x 2688 Pixels',\n      heDieuHanh: \"iOS 12\",\n      cameraSau: \"Chính 12 MP & Phụ 12 MP\",\n      cameraTruoc: \"7 MP\",\n      ram: \"4 GB\",\n      rom: \"64 GB\",\n      giaBan: 27000000,\n      hinhAnh: \"./img/applephone.jpg\"\n    }];\n\n    this.handleDetail = product => {\n      this.setState({\n        detailProduct: product\n      });\n    };\n\n    this.timViTri = id => {\n      return this.state.mangGioHang.findIndex(sanPham => {\n        return sanPham.maSP === id;\n      });\n    };\n\n    this.handleGioHang = product => {\n      const addProduct = {\n        maSP: product.maSP,\n        tenSP: product.tenSP,\n        hinhAnh: product.hinhAnh,\n        soLuong: 1,\n        giaBan: product.giaBan\n      };\n      /**\n       * 0. Tìm vị trí findIndex()\n       * 1. Nếu index !== -1 => Tìm thấy => Update\n       * 2. Ngược lại => Không tìm thấy => Add\n       */\n\n      let mangGioHang = [...this.state.mangGioHang];\n      let index = this.timViTri(addProduct.maSP);\n\n      if (index !== -1) {\n        //Update\n        mangGioHang[index].soLuong += 1;\n      } else {\n        //Add\n        mangGioHang = [...this.state.mangGioHang, addProduct];\n      }\n\n      this.setState({\n        mangGioHang\n      });\n    };\n\n    this.handleDelete = product => {\n      /**\n       * 0. Tạo mảng copy từ mảng mangGioHang\n       * 1. Tìm vị trí\n       * 2. Nếu tìm thấy => Xóa splice(index, 1)\n       * 3. Cập nhật state\n       */\n      let {\n        mangGioHang\n      } = { ...this.state\n      };\n      let index = this.timViTri(product.maSP);\n\n      if (index !== -1) {\n        mangGioHang.splice(index, 1);\n        this.setState({\n          mangGioHang\n        });\n      }\n    };\n\n    this.handleTangGiamSL = (product, status) => {\n      let mangGioHang = [...this.state.mangGioHang];\n      let index = this.timViTri(product.maSP);\n\n      if (status) {\n        //Tang\n        mangGioHang[index].soLuong += 1;\n      } else {\n        //Giam\n        if (mangGioHang[index].soLuong > 1) {\n          mangGioHang[index].soLuong -= 1;\n        }\n      }\n\n      this.setState({\n        mangGioHang\n      });\n    };\n\n    this.tongSL = () => {\n      /**\n       * 0. Tạo biến tích lũy tong = 0;\n       * 1. Duyệt mảng mangGioHang\n       * 2. Cộng dồn số lượng vào biến tong;\n       * 3. return tong\n       */\n      // let tong = 0;\n      // this.state.mangGioHang.map(sanPham => {\n      //   tong += sanPham.soLuong;\n      // });\n      // return tong;\n      return this.state.mangGioHang.reduce((tong, sanPham) => {\n        return tong += sanPham.soLuong;\n      }, 0);\n    };\n\n    this.state = {\n      mangSanPham: this.mangSanPham,\n      detailProduct: this.mangSanPham[0],\n      mangGioHang: []\n    };\n  }\n\n  render() {\n    const {\n      detailProduct\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"B\\xE0i t\\u1EADp gi\\u1ECF h\\xE0ng\"), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#modelId\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Gi\\u1ECF h\\xE0ng (\", this.tongSL(), \")\")), React.createElement(DanhSachSanPham, {\n      listProduct: this.state.mangSanPham,\n      detailProduct: this.handleDetail,\n      gioHang: this.handleGioHang,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), React.createElement(Modal, {\n      gioHang: this.state.mangGioHang,\n      delete: this.handleDelete,\n      tangGiamSL: this.handleTangGiamSL,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"img-fluid\",\n      src: detailProduct.hinhAnh,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Th\\xF4ng s\\u1ED1 k\\u1EF9 thu\\u1EADt\"), React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"M\\xE0n h\\xECnh\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, detailProduct.manHinh)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"H\\u1EC7 \\u0111i\\u1EC1u h\\xE0nh\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, detailProduct.heDieuHanh)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Camera tr\\u01B0\\u1EDBc\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, detailProduct.cameraTruoc)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"Camera sau\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, detailProduct.cameraSau)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"RAM\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, detailProduct.ram)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"ROM\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, detailProduct.rom))))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Dell/Desktop/New folder (3)/src/shopping-cart/index.js"],"names":["React","Component","DanhSachSanPham","Modal","ShoppingCart","constructor","props","mangSanPham","maSP","tenSP","manHinh","heDieuHanh","cameraTruoc","cameraSau","ram","rom","giaBan","hinhAnh","handleDetail","product","setState","detailProduct","timViTri","id","state","mangGioHang","findIndex","sanPham","handleGioHang","addProduct","soLuong","index","handleDelete","splice","handleTangGiamSL","status","tongSL","reduce","tong","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport DanhSachSanPham from \"./danh-sach-san-pham\";\nimport Modal from \"./modal\";\n\nexport default class ShoppingCart extends Component {\n  mangSanPham = [\n    {\n      maSP: 1,\n      tenSP: \"VinSmart Live\",\n      manHinh: 'AMOLED, 6.2\", Full HD+',\n      heDieuHanh: \"Android 9.0 (Pie)\",\n      cameraTruoc: \"20 MP\",\n      cameraSau: \"Chính 48 MP & Phụ 8 MP, 5 MP\",\n      ram: \"4 GB\",\n      rom: \"64 GB\",\n      giaBan: 5700000,\n      hinhAnh: \"./img/vsphone.jpg\"\n    },\n\n    {\n      maSP: 2,\n      tenSP: \"Meizu 16Xs\",\n      manHinh: \"AMOLED, FHD+ 2232 x 1080 pixels\",\n      heDieuHanh: \"Android 9.0 (Pie); Flyme\",\n      cameraTruoc: \"20 MP\",\n      cameraSau: \"Chính 48 MP & Phụ 8 MP, 5 MP\",\n      ram: \"4 GB\",\n      rom: \"64 GB\",\n      giaBan: 7600000,\n      hinhAnh: \"./img/meizuphone.jpg\"\n    },\n\n    {\n      maSP: 3,\n      tenSP: \"Iphone XS Max\",\n      manHinh: 'OLED, 6.5\", 1242 x 2688 Pixels',\n      heDieuHanh: \"iOS 12\",\n      cameraSau: \"Chính 12 MP & Phụ 12 MP\",\n      cameraTruoc: \"7 MP\",\n      ram: \"4 GB\",\n      rom: \"64 GB\",\n      giaBan: 27000000,\n      hinhAnh: \"./img/applephone.jpg\"\n    }\n  ];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      mangSanPham: this.mangSanPham,\n      detailProduct: this.mangSanPham[0],\n      mangGioHang: []\n    };\n  }\n\n  handleDetail = product => {\n    this.setState({\n      detailProduct: product\n    });\n  };\n\n  /**\n   * Tìm vị trí\n   */\n  timViTri = id => {\n    return this.state.mangGioHang.findIndex(sanPham => {\n      return sanPham.maSP === id;\n    });\n  };\n\n  /**\n   * Thêm giỏ hàng\n   */\n  handleGioHang = product => {\n    const addProduct = {\n      maSP: product.maSP,\n      tenSP: product.tenSP,\n      hinhAnh: product.hinhAnh,\n      soLuong: 1,\n      giaBan: product.giaBan\n    };\n\n    /**\n     * 0. Tìm vị trí findIndex()\n     * 1. Nếu index !== -1 => Tìm thấy => Update\n     * 2. Ngược lại => Không tìm thấy => Add\n     */\n    let mangGioHang = [...this.state.mangGioHang];\n    let index = this.timViTri(addProduct.maSP);\n\n    if (index !== -1) {\n      //Update\n      mangGioHang[index].soLuong += 1;\n    } else {\n      //Add\n      mangGioHang = [...this.state.mangGioHang, addProduct];\n    }\n\n    this.setState({\n      mangGioHang\n    });\n  };\n\n  /**\n   * DELETE\n   */\n  handleDelete = product => {\n    /**\n     * 0. Tạo mảng copy từ mảng mangGioHang\n     * 1. Tìm vị trí\n     * 2. Nếu tìm thấy => Xóa splice(index, 1)\n     * 3. Cập nhật state\n     */\n    let { mangGioHang } = { ...this.state };\n    let index = this.timViTri(product.maSP);\n    if (index !== -1) {\n      mangGioHang.splice(index, 1);\n      this.setState({\n        mangGioHang\n      });\n    }\n  };\n\n  /**\n   * Tang Giam SL\n   */\n  handleTangGiamSL = (product, status) => {\n    let mangGioHang = [...this.state.mangGioHang];\n    let index = this.timViTri(product.maSP);\n\n    if (status) {\n      //Tang\n      mangGioHang[index].soLuong += 1;\n    } else {\n      //Giam\n      if (mangGioHang[index].soLuong > 1) {\n        mangGioHang[index].soLuong -= 1;\n      }\n    }\n\n    this.setState({\n      mangGioHang\n    });\n  };\n\n  /**\n   * Tong SL Gio Hang\n   */\n  tongSL = () => {\n    /**\n     * 0. Tạo biến tích lũy tong = 0;\n     * 1. Duyệt mảng mangGioHang\n     * 2. Cộng dồn số lượng vào biến tong;\n     * 3. return tong\n     */\n    // let tong = 0;\n    // this.state.mangGioHang.map(sanPham => {\n    //   tong += sanPham.soLuong;\n    // });\n    // return tong;\n\n    return this.state.mangGioHang.reduce((tong, sanPham) => {\n      return (tong += sanPham.soLuong);\n    }, 0);\n  };\n\n  render() {\n    const { detailProduct } = this.state;\n\n    return (\n      <div>\n        <h3 className=\"title\">Bài tập giỏ hàng</h3>\n        <div className=\"container\">\n          <button\n            className=\"btn btn-danger\"\n            data-toggle=\"modal\"\n            data-target=\"#modelId\"\n          >\n            Giỏ hàng ({this.tongSL()})\n          </button>\n        </div>\n        <DanhSachSanPham\n          listProduct={this.state.mangSanPham}\n          detailProduct={this.handleDetail}\n          gioHang={this.handleGioHang}\n        />\n        <Modal\n          gioHang={this.state.mangGioHang}\n          delete={this.handleDelete}\n          tangGiamSL={this.handleTangGiamSL}\n        />\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-sm-5\">\n              <img className=\"img-fluid\" src={detailProduct.hinhAnh} alt=\"\" />\n            </div>\n            <div className=\"col-sm-7\">\n              <h3>Thông số kỹ thuật</h3>\n              <table className=\"table\">\n                <tbody>\n                  <tr>\n                    <td>Màn hình</td>\n                    <td>{detailProduct.manHinh}</td>\n                  </tr>\n                  <tr>\n                    <td>Hệ điều hành</td>\n                    <td>{detailProduct.heDieuHanh}</td>\n                  </tr>\n                  <tr>\n                    <td>Camera trước</td>\n                    <td>{detailProduct.cameraTruoc}</td>\n                  </tr>\n                  <tr>\n                    <td>Camera sau</td>\n                    <td>{detailProduct.cameraSau}</td>\n                  </tr>\n                  <tr>\n                    <td>RAM</td>\n                    <td>{detailProduct.ram}</td>\n                  </tr>\n                  <tr>\n                    <td>ROM</td>\n                    <td>{detailProduct.rom}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}